---
layout: base
---
<article class="post">
  <h1 class="post-title">{{ page.title }}</h1>
  <p class="meta">
    <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%Y-%m-%d" }}</time>
    {%- if page.tags and page.tags != empty -%} · {{ page.tags | join: " · " }}{%- endif -%}
  </p>
  <div class="content">
    {{ content }}
  </div>
  {%- assign posts_grouped = site.posts | group_by_exp: 'p', 'p.date | date: "%Y-%m-%d"' -%}
  {%- assign posts_grouped = posts_grouped | sort: 'name' | reverse -%}
  {%- assign posts_sorted = '' | split: '' -%}
  {%- for group in posts_grouped -%}
    {%- assign same_day = group.items | sort_natural: 'title' -%}
    {%- assign posts_sorted = posts_sorted | concat: same_day -%}
  {%- endfor -%}
  {%- assign newer_post = nil -%}
  {%- assign older_post = nil -%}
  {%- for entry in posts_sorted -%}
    {%- if entry.url == page.url -%}
      {%- unless forloop.first -%}
        {%- assign newer_index = forloop.index0 | minus: 1 -%}
        {%- assign newer_post = posts_sorted[newer_index] -%}
      {%- endunless -%}
      {%- unless forloop.last -%}
        {%- assign older_index = forloop.index0 | plus: 1 -%}
        {%- assign older_post = posts_sorted[older_index] -%}
      {%- endunless -%}
    {%- endif -%}
  {%- endfor -%}
  <div class="post-nav">
    <a href="{{ '/blog/' | relative_url }}">Back</a>
    {%- if newer_post -%}
      <a href="{{ newer_post.url | relative_url }}">Previous Blog</a>
    {%- endif -%}
    {%- if older_post -%}
      <a href="{{ older_post.url | relative_url }}">Next Blog</a>
    {%- endif -%}
  </div>
</article>
